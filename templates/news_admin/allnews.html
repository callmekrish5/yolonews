
{% extends 'news/base.html'%}
{% load static %}
{% block navbar%}

<div class="container">
    {% for message in messages %}
            {% if message.level == DEFAULT_MESSAGE_LEVELS.SUCCESS %}
            <h6 class="alert alert-success py-3 px-1 my-2 text-center">{{message}}</h6>
            {% endif %}

            {% if message.level == DEFAULT_MESSAGE_LEVELS.ERROR%}
            <p class="alert alert-danger py-3 px-1 my-2 text-center">{{message}}</p>
            {% endif %}
            {% endfor %}
    <h3  class="text-center" >All News</h3>
    <a href="{% url 'news_admin:addnews' %}" class="btn btn-outline-info col-lg-2 align-items-end"> + &nbsp; Add news</a>
  
    <hr>
    <div class="col-lg-12 mx-auto">
        <div class="border p-4">
            <div>
                <table class="table table-light">
                    <thead>
                      <tr>
                        <th scope="col">News ID:</th>
                        <th scope="col">Heading</th>
                        <th scope="col">Reporter</th>
                        <th scope="col">Date</th>
                        <th scope="col">Category</th>
                        <th scope="col">Update/Delete</th>
                        
                      </tr>
                    </thead>
                    <tbody>
                        {% for i in news %}
                      <tr>
                        <th scope="row">{{i.id}}</th>
                        <td>{{i.heading|truncatechars:18}}</td>
                        <td>{{i.reporter.name}}</td>
                        <td>{{i.date}}</td>
                        <td>{{i.category.category}}</td>
                        <td><a href="{% url 'news_admin:updatenews' i.id  %}" class="btn btn-primary btn-sm">Update</a>
                        <a href="{% url 'news_admin:deletenews' i.id  %}" onclick="return confirm('Delete news?')" class="btn btn-danger btn-sm">Delete</a></td>
                      </tr>
                      {% endfor %}
                    </tbody>
                  </table>
            </div>

        </div>

    </div>
</div>
<br><br>
{% include 'news/footer.html'%}


  
    
{% endblock %}
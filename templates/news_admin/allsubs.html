
{% extends 'news/base.html'%}
{% load static %}
{% block navbar%}

<div class="container">
    {% for message in messages %}
            {% if message.level == DEFAULT_MESSAGE_LEVELS.SUCCESS %}
            <h6 class="success_message py-3 px-1 my-2 text-center">{{message}}</h6>
            {% endif %}

            {% if message.level == DEFAULT_MESSAGE_LEVELS.ERROR%}
            <p class="alert alert-danger py-3 px-1 my-2 text-center">{{message}}</p>
            {% endif %}
            {% endfor %}
    <h3  class="text-center" >All Subscribers</h3>
    
    <hr>
    <div class="col-lg-12 mx-auto">
        <div class="border p-4">
            <table class="table">
                <thead>
                    <th>ID</th>
                    <th>Username</th>
                    <th>Joined Date</th>
                    <th>Last Active</th>
                    <th>Actions</th>
                </thead>
                <tbody>
                    {% for i in subs %}
                    <tr>
                        <td>{{i.id}}</td>
                        <td>{{i.username}}</td>
                        <td>{{i.date_joined}}</td>
                        <td>{{i.last_login}}</td>
                        <td>
                            <a href="{% url 'news_admin:upgrateAdmin' i.id %}" onclick="return confirm('Upgrade subscriber to admin?')" class="btn btn-primary btn-sm">Make admin</a>
                            <a href="{% url 'news_admin:deleteSub' i.id %}" onclick="return confirm('Delete subscriber?')" class="btn btn-danger btn-sm">Remove User</a>
                        </td>
                    </tr>
                    {% empty%}
                    <p class="h4 text-center text-primary">No subscribers at all.</p>
                    {% endfor %}
                </tbody>

            </table>

        </div>

    </div>
</div>
<br><br>
{% include 'news/footer.html'%}


  
    
{% endblock %}